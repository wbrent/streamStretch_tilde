#N canvas 69 157 798 649 10;
#N canvas 576 70 680 500 enveloping 0;
#X obj 111 148 *~;
#X obj 201 347 vline~;
#X obj 201 127 f;
#X obj 201 179 sqrt;
#X obj 201 200 sqrt;
#X obj 201 368 *~;
#X obj 201 389 *~;
#X obj 40 148 *~;
#X obj 40 62 inlet~;
#X obj 111 62 inlet~;
#X obj 40 415 outlet~;
#X obj 111 415 outlet~;
#X obj 275 176 -;
#X obj 225 97 dbtorms;
#X obj 285 137 t f b;
#X msg 218 313 stop \, 0 50;
#X obj 191 43 r \$1-streamstretch-env-trig-\$2;
#X obj 225 75 r \$1-streamstretch-amp-\$2;
#X obj 285 104 r \$1-streamstretch-dur-\$2;
#X obj 218 291 r \$1-streamstretch-reader-kill-\$2;
#N canvas 0 22 419 330 get-attack-time 0;
#X obj 129 97 unpack f f;
#X obj 209 97 unpack f f;
#X obj 129 57 t l l;
#X obj 129 119 max;
#X obj 209 119 min;
#X obj 129 141 -;
#X obj 129 163 + 1;
#X obj 86 198 random;
#X obj 86 220 +;
#X obj 86 242 outlet;
#X obj 47 144 inlet;
#X obj 129 35 r \$1-streamstretch-attack-time-range;
#X connect 0 0 3 0;
#X connect 0 1 3 1;
#X connect 1 0 4 0;
#X connect 1 1 4 1;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 4 0 8 1;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 7 0;
#X connect 11 0 2 0;
#X restore 435 136 pd get-attack-time;
#N canvas 0 22 419 330 get-release-time 0;
#X obj 129 97 unpack f f;
#X obj 209 97 unpack f f;
#X obj 129 57 t l l;
#X obj 129 119 max;
#X obj 209 119 min;
#X obj 129 141 -;
#X obj 129 163 + 1;
#X obj 86 198 random;
#X obj 86 220 +;
#X obj 86 242 outlet;
#X obj 47 144 inlet;
#X obj 129 35 r \$1-streamstretch-release-time-range;
#X connect 0 0 3 0;
#X connect 0 1 3 1;
#X connect 1 0 4 0;
#X connect 1 1 4 1;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 4 0 8 1;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 7 0;
#X connect 11 0 2 0;
#X restore 335 171 pd get-release-time;
#X obj 201 241 pack f f f f;
#X msg 201 264 0 \, \$1 \$4 \, 0 \$3 \$2;
#X obj 300 311 r \$1-streamstretch-kill-all-streams;
#X connect 0 0 11 0;
#X connect 1 0 5 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 22 0;
#X connect 5 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 0 1;
#X connect 6 0 7 1;
#X connect 7 0 10 0;
#X connect 8 0 7 0;
#X connect 9 0 0 0;
#X connect 12 0 22 1;
#X connect 13 0 2 1;
#X connect 14 0 12 0;
#X connect 14 1 20 0;
#X connect 14 1 21 0;
#X connect 15 0 1 0;
#X connect 16 0 2 0;
#X connect 17 0 13 0;
#X connect 18 0 14 0;
#X connect 19 0 15 0;
#X connect 20 0 22 3;
#X connect 21 0 12 1;
#X connect 21 0 22 2;
#X connect 22 0 23 0;
#X connect 23 0 1 0;
#X connect 24 0 15 0;
#X restore 615 242 pd enveloping;
#N canvas 248 40 868 781 table-scrub-guts 0;
#X obj 18 641 *~;
#X obj 156 280 f;
#X obj 196 643 *~;
#X obj 156 203 bang~;
#X obj 198 282 +;
#X obj 331 213 *;
#X obj 183 418 +;
#X obj 143 394 t f f;
#X msg 18 471 \$1 \, \$2 \$3;
#X text 219 342 reading location (samples);
#X obj 53 545 / 4;
#X obj 365 432 *;
#X obj 503 380 + 69;
#X obj 503 401 mtof;
#X obj 503 423 / 440;
#X obj 400 432 t b f;
#X obj 18 667 outlet~;
#X obj 196 668 outlet~;
#X text 432 459 stretched window size (samples);
#X obj 103 136 / 4;
#X obj 193 368 / 2;
#X obj 156 368 -;
#X text 230 365 back up 1/2 window;
#X obj 18 545 -~;
#X text 337 16 Read two windows out of the recorded sample \, one 1/4
ahead of the other. The mid point of the front window is specified
by "location". If "speed" is nonzero \, "location" automatically precesses.
;
#X obj 529 680 * -0.5;
#X text 87 550 "back" window 1/4 cycle behind "front" one;
#X text 138 133 computation period (msec) for overlap of 4;
#X text 151 76 msec in a window;
#X obj 529 587 f;
#X text 362 193 loop to precess the location according;
#X text 361 209 to the "speed" parameter.;
#X text 497 495 "rewind" control takes us;
#X text 500 513 to a location depending on;
#X text 500 532 stretched window size.;
#X obj 18 443 pack f f f;
#X text 495 318 desired transposition;
#X obj 18 499 vline~;
#X floatatom 354 461 10 0 0 0 - - -, f 10;
#X msg 250 523 set \$1;
#X obj 195 585 tabread4~;
#X obj 18 585 tabread4~;
#X obj 503 359 / 100;
#X text 550 360 transpo in 100ths of a semitone (cents);
#X obj 103 39 r \$1-streamstretch-window-size;
#X obj 331 165 r \$1-streamstretch-speed-\$2;
#X obj 171 235 r \$1-streamstretch-location-\$2;
#X obj 503 337 r \$1-streamstretch-transpo-\$2;
#X obj 290 403 r \$1-streamstretch-window-size;
#X obj 529 555 r \$1-streamstretch-rewind-\$2;
#X obj 219 612 tabreceive~ \$1-streamstretch-hann;
#X obj 250 496 r \$1-streamstretch-array-\$2;
#X msg 529 724 \; \$2-streamstretch-location-\$3 \$1;
#X obj 529 703 pack f \$1 \$2;
#X obj 103 75 t f b;
#X obj 103 97 /;
#X obj 133 97 samplerate~;
#X obj 156 342 *;
#X obj 529 634 /;
#X obj 559 634 samplerate~;
#X obj 529 609 t f b;
#X floatatom 49 125 5 0 0 0 - - -, f 5;
#X obj 133 119 / 1000;
#X obj 559 656 / 1000;
#X connect 0 0 16 0;
#X connect 1 0 4 0;
#X connect 1 0 57 0;
#X connect 2 0 17 0;
#X connect 3 0 1 0;
#X connect 4 0 1 1;
#X connect 5 0 4 1;
#X connect 6 0 35 1;
#X connect 7 0 35 0;
#X connect 7 1 6 0;
#X connect 8 0 37 0;
#X connect 10 0 23 1;
#X connect 11 0 29 1;
#X connect 11 0 10 0;
#X connect 11 0 6 1;
#X connect 11 0 20 0;
#X connect 11 0 38 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 15 1 11 1;
#X connect 19 0 5 1;
#X connect 19 0 35 2;
#X connect 20 0 21 1;
#X connect 21 0 7 0;
#X connect 23 0 41 0;
#X connect 25 0 53 0;
#X connect 29 0 60 0;
#X connect 35 0 8 0;
#X connect 37 0 23 0;
#X connect 37 0 40 0;
#X connect 39 0 40 0;
#X connect 39 0 41 0;
#X connect 40 0 2 0;
#X connect 41 0 0 0;
#X connect 42 0 12 0;
#X connect 44 0 54 0;
#X connect 45 0 5 0;
#X connect 46 0 1 1;
#X connect 47 0 42 0;
#X connect 48 0 11 0;
#X connect 49 0 29 0;
#X connect 50 0 2 1;
#X connect 50 0 0 1;
#X connect 51 0 39 0;
#X connect 53 0 52 0;
#X connect 54 0 55 0;
#X connect 54 1 56 0;
#X connect 55 0 19 0;
#X connect 55 0 61 0;
#X connect 56 0 62 0;
#X connect 57 0 21 0;
#X connect 58 0 25 0;
#X connect 59 0 63 0;
#X connect 60 0 58 0;
#X connect 60 1 59 0;
#X connect 62 0 55 1;
#X connect 62 0 57 1;
#X connect 63 0 58 1;
#X restore 615 179 pd table-scrub-guts;
#X obj 75 182 t b b f;
#X obj 615 299 outlet~;
#X obj 705 299 outlet~;
#X obj 449 426 /;
#X obj 449 363 t b f;
#X obj 449 395 f;
#X obj 215 221 / 100;
#N canvas 295 311 566 296 kill-command 0;
#X obj 55 12 r \$1-streamstretch-reader-kill-\$2;
#X obj 55 134 pack \$1 \$2;
#X obj 75 42 r \$1-streamstretch-kill-all-streams;
#X msg 55 203 \; \$1-streamstretch-speed-\$2 0 \; \$1-streamstretch-transpo-\$2
0 \; \$1-streamstretch-rewind-\$2 bang \;;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X restore 579 111 pd kill-command;
#N canvas 988 272 425 388 switch-on-off 0;
#X obj 77 264 switch~;
#X obj 169 160 loadbang;
#X msg 169 187 0;
#X msg 122 188 1;
#X obj 64 134 delay;
#X obj 77 75 t f b;
#X obj 77 42 r \$1-streamstretch-dur-\$2;
#X obj 64 112 + 100;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 7 0;
#X connect 5 1 3 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X restore 579 91 pd switch-on-off;
#N canvas 456 93 450 300 init 0;
#X obj 58 42 loadbang;
#X msg 58 109 \; \$1-streamstretch-speed-\$2 0 \; \$1-streamstretch-transpo-\$2
0 \; \$1-streamstretch-rewind-\$2 bang \;;
#X obj 58 80 pack \$1 \$2;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 579 71 pd init;
#X obj 97 40 r \$1-streamstretch-reader-trig-\$2;
#X obj 449 474 s \$1-streamstretch-dur-\$2;
#X obj 268 306 s \$1-streamstretch-speed-\$2;
#X obj 240 341 s \$1-streamstretch-array-\$2;
#X obj 207 385 s \$1-streamstretch-amp-\$2;
#X obj 162 428 s \$1-streamstretch-transpo-\$2;
#X obj 125 461 s \$1-streamstretch-rewind-\$2;
#X obj 87 497 s \$1-streamstretch-env-trig-\$2;
#X obj 484 386 r \$1-streamstretch-buf-len-samps;
#X obj 260 190 select -1;
#X msg 260 212 1;
#X obj 215 243 t f f;
#X obj 259 270 spigot;
#X obj 311 220 t b f;
#X msg 311 242 0;
#X obj 352 259 min;
#X obj 374 504 r \$1-streamstretch-dur-\$2;
#X floatatom 414 526 10 0 0 0 - - -, f 10;
#X obj 484 407 t f b;
#X obj 484 429 /;
#X obj 514 429 samplerate~;
#X obj 514 451 / 1000;
#X obj 384 233 * 100;
#X text 395 257 The longest a duration can be is 100x the duration
of the buffer in ms, f 26;
#X obj 384 141 r \$1-streamstretch-buf-len-samps;
#X obj 384 162 t f b;
#X obj 384 184 /;
#X obj 414 184 samplerate~;
#X obj 414 206 / 1000;
#X obj 374 526 delay;
#X obj 374 548 f;
#X obj 97 143 unpack f f s f f f;
#X obj 374 571 pack f 0;
#X obj 374 593 s \$1-streamstretch-note-off;
#X text 161 73 transpo \, amp \, array \, speed \, duration \, poly
note num;
#X connect 0 0 3 0;
#X connect 0 1 4 0;
#X connect 1 0 0 0;
#X connect 1 1 0 1;
#X connect 2 0 19 0;
#X connect 2 1 18 0;
#X connect 2 2 17 0;
#X connect 5 0 13 0;
#X connect 6 0 7 0;
#X connect 6 1 5 1;
#X connect 7 0 5 0;
#X connect 8 0 23 0;
#X connect 12 0 43 0;
#X connect 20 0 30 0;
#X connect 21 0 22 0;
#X connect 21 1 25 0;
#X connect 22 0 24 1;
#X connect 23 0 14 0;
#X connect 23 1 24 0;
#X connect 24 0 6 0;
#X connect 25 0 26 0;
#X connect 25 1 27 0;
#X connect 26 0 24 1;
#X connect 27 0 13 0;
#X connect 28 0 29 0;
#X connect 28 0 41 0;
#X connect 30 0 31 0;
#X connect 30 1 32 0;
#X connect 31 0 7 1;
#X connect 32 0 33 0;
#X connect 33 0 31 1;
#X connect 34 0 27 1;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 37 1 39 0;
#X connect 38 0 34 0;
#X connect 39 0 40 0;
#X connect 40 0 38 1;
#X connect 41 0 42 0;
#X connect 42 0 44 0;
#X connect 43 0 2 0;
#X connect 43 1 16 0;
#X connect 43 2 15 0;
#X connect 43 3 8 0;
#X connect 43 4 21 0;
#X connect 43 5 42 1;
#X connect 44 0 45 0;
